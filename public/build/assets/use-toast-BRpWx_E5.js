import{r,j as v,b as R}from"./app-gBC5v1MW.js";import{u as g}from"./button-C6ykpAO9.js";function F(e,t){const n=r.createContext(t);function o(u){const{children:i,...a}=u,f=r.useMemo(()=>a,Object.values(a));return v.jsx(n.Provider,{value:f,children:i})}function s(u){const i=r.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${u}\` must be used within \`${e}\``)}return o.displayName=e+"Provider",[o,s]}function G(e,t=[]){let n=[];function o(u,i){const a=r.createContext(i),f=n.length;n=[...n,i];function c(d){const{scope:m,children:S,...l}=d,_=(m==null?void 0:m[e][f])||a,C=r.useMemo(()=>l,Object.values(l));return v.jsx(_.Provider,{value:C,children:S})}function p(d,m){const S=(m==null?void 0:m[e][f])||a,l=r.useContext(S);if(l)return l;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${u}\``)}return c.displayName=u+"Provider",[c,p]}const s=()=>{const u=n.map(i=>r.createContext(i));return function(a){const f=(a==null?void 0:a[e])||u;return r.useMemo(()=>({[`__scope${e}`]:{...a,[e]:f}}),[a,f])}};return s.scopeName=e,[o,I(s,...t)]}function I(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(u){const i=o.reduce((a,{useScope:f,scopeName:c})=>{const d=f(u)[`__scope${c}`];return{...a,...d}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Q(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function P(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...n)=>{var o;return(o=t.current)==null?void 0:o.call(t,...n)},[])}function X({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,s]=y({defaultProp:t,onChange:n}),u=e!==void 0,i=u?e:o,a=P(n),f=r.useCallback(c=>{if(u){const d=typeof c=="function"?c(e):c;d!==e&&a(d)}else s(c)},[u,e,s,a]);return[i,f]}function y({defaultProp:e,onChange:t}){const n=r.useState(e),[o]=n,s=r.useRef(o),u=P(t);return r.useEffect(()=>{s.current!==o&&(u(o),s.current=o)},[o,s,u]),n}var M=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{};function D(e,t){return r.useReducer((n,o)=>t[n][o]??n,e)}var U=e=>{const{present:t,children:n}=e,o=b(t),s=typeof n=="function"?n({present:o.isPresent}):r.Children.only(n),u=g(o.ref,w(s));return typeof n=="function"||o.isPresent?r.cloneElement(s,{ref:u}):null};U.displayName="Presence";function b(e){const[t,n]=r.useState(),o=r.useRef({}),s=r.useRef(e),u=r.useRef("none"),i=e?"mounted":"unmounted",[a,f]=D(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const c=A(o.current);u.current=a==="mounted"?c:"none"},[a]),M(()=>{const c=o.current,p=s.current;if(p!==e){const m=u.current,S=A(c);e?f("MOUNT"):S==="none"||(c==null?void 0:c.display)==="none"?f("UNMOUNT"):f(p&&m!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,f]),M(()=>{if(t){const c=d=>{const S=A(o.current).includes(d.animationName);d.target===t&&S&&R.flushSync(()=>f("ANIMATION_END"))},p=d=>{d.target===t&&(u.current=A(o.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:r.useCallback(c=>{c&&(o.current=getComputedStyle(c)),n(c)},[])}}function A(e){return(e==null?void 0:e.animationName)||"none"}function w(e){var o,s;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const L=1,j=1e6;let h=0;function $(){return h=(h+1)%Number.MAX_SAFE_INTEGER,h.toString()}const E=new Map,x=e=>{if(E.has(e))return;const t=setTimeout(()=>{E.delete(e),T({type:"REMOVE_TOAST",toastId:e})},j);E.set(e,t)},W=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,L)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?x(n):e.toasts.forEach(o=>{x(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===n||n===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},N=[];let O={toasts:[]};function T(e){O=W(O,e),N.forEach(t=>{t(O)})}function k({...e}){const t=$(),n=s=>T({type:"UPDATE_TOAST",toast:{...s,id:t}}),o=()=>T({type:"DISMISS_TOAST",toastId:t});return T({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||o()}}}),{id:t,dismiss:o,update:n}}function Y(){const[e,t]=r.useState(O);return r.useEffect(()=>(N.push(t),()=>{const n=N.indexOf(t);n>-1&&N.splice(n,1)}),[e]),{...e,toast:k,dismiss:n=>T({type:"DISMISS_TOAST",toastId:n})}}export{U as P,X as a,Q as b,G as c,M as d,P as e,F as f,Y as u};
