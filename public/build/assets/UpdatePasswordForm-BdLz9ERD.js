import{r as m,W as _,j as s}from"./app-K2H9zMxD.js";import{B as v}from"./button-nR3dS6I0.js";import{I as d}from"./input-DjFPlRrK.js";import{L as n}from"./label-DePlcw37.js";import{u as g}from"./use-toast-DirOwi0l.js";import"./utils-DnNDQBbQ.js";import"./index-CvlcxAx-.js";function I({className:w=""}){const p=m.useRef(null),c=m.useRef(null),{toast:x}=g(),{data:a,setData:t,errors:e,put:f,reset:o,processing:h}=_({current_password:"",password:"",password_confirmation:""}),j=r=>{r.preventDefault(),f(route("password.update"),{preserveScroll:!0,onSuccess:()=>{o(),x({title:"Password updated",description:"Your password has been successfully updated."})},onError:i=>{var u,l;i.password&&(o("password","password_confirmation"),(u=p.current)==null||u.focus()),i.current_password&&(o("current_password"),(l=c.current)==null||l.focus())}})};return s.jsxs("section",{className:w,children:[s.jsxs("header",{children:[s.jsx("h2",{className:"text-lg font-medium",children:"Update Password"}),s.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Ensure your account is using a long, random password to stay secure."})]}),s.jsxs("form",{onSubmit:j,className:"mt-6 space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(n,{htmlFor:"current_password",children:"Current Password"}),s.jsx(d,{id:"current_password",ref:c,value:a.current_password,onChange:r=>t("current_password",r.target.value),type:"password",autoComplete:"current-password"}),e.current_password&&s.jsx("p",{className:"text-sm text-destructive",children:e.current_password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(n,{htmlFor:"password",children:"New Password"}),s.jsx(d,{id:"password",ref:p,value:a.password,onChange:r=>t("password",r.target.value),type:"password",autoComplete:"new-password"}),e.password&&s.jsx("p",{className:"text-sm text-destructive",children:e.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(n,{htmlFor:"password_confirmation",children:"Confirm Password"}),s.jsx(d,{id:"password_confirmation",value:a.password_confirmation,onChange:r=>t("password_confirmation",r.target.value),type:"password",autoComplete:"new-password"}),e.password_confirmation&&s.jsx("p",{className:"text-sm text-destructive",children:e.password_confirmation})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(v,{type:"submit",disabled:h,children:"Save"})})]})]})}export{I as default};
