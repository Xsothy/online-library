import{r as o,j as e,y as m}from"./app-K2H9zMxD.js";import{t as y}from"./AppLayout-CBfRWyYg.js";import{C as l,d as a,a as h,b as x}from"./card-C1433V4E.js";import{B as p}from"./button-nR3dS6I0.js";import{B as C}from"./badge-Csb1yujM.js";import R from"./BookCard-CS41aQUH.js";import A from"./CommentSection-BxAHU3-u.js";import{c as B}from"./createLucideIcon-B9n88iZH.js";import"./use-toast-DirOwi0l.js";import"./react-icons.esm-B9LugI1B.js";import"./tslib.es6-LIHmFIl2.js";import"./index-DLU983SQ.js";import"./index-BsUbLQwv.js";import"./index-CvlcxAx-.js";import"./utils-DnNDQBbQ.js";import"./dialog-BIJ-bN3V.js";import"./index-BtKFfOZ1.js";import"./dropdown-menu-CpLlE0JY.js";import"./index-D2h1ooX5.js";import"./index-DkL5lGIr.js";import"./index-B4rHOBbR.js";import"./index-CMTC2-Bt.js";import"./ApplicationLogo-BYHe_jUU.js";import"./settings-CJfg8kcm.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=B("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);function _({book:i,userRent:c,userReservation:n,relatedBooks:v}){var d;const[g,t]=o.useState(0);o.useEffect(()=>{const s=window.location.hash;if(s){const r=document.querySelector(s);r&&r.scrollIntoView({behavior:"smooth"})}},[]);const u=()=>{m.visit(route("book.rent",i.id))},f=()=>{m.visit(route("book.reserve",i.id))},w=s=>{t(s)},N=i.reviews.reduce((s,r)=>s+r.rating,0)/i.reviews.length;return e.jsx(y,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"md:w-1/4",children:e.jsx(l,{className:"sticky top-4",children:e.jsxs(a,{className:"p-4",children:[e.jsx("div",{className:"aspect-[1/1.6] relative mb-4",children:e.jsx("img",{src:((d=i.cover)==null?void 0:d.path)||"/placeholder.png?height=512&width=320",alt:i.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Your Rating:"}),e.jsx("div",{className:"flex mt-2",children:[1,2,3,4,5].map(s=>e.jsx(j,{className:`h-6 w-6 cursor-pointer ${s<=g?"text-yellow-400 fill-current":"text-gray-300"}`,onClick:()=>w(s),onMouseEnter:()=>t(s),onMouseLeave:()=>t(0)},s))})]}),i.isAvailable&&!c&&!n&&e.jsx(p,{onClick:u,className:"w-full",children:"Rent"}),!i.isAvailable&&!c&&!n&&e.jsx(p,{onClick:f,className:"w-full",children:"Reserve"})]})]})})}),e.jsx("div",{className:"md:w-3/4",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs(l,{id:"overview",children:[e.jsx(h,{children:e.jsx(x,{children:i.title})}),e.jsx(a,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Author:"})," ",i.author]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",i.description]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Published:"})," ",i.publishedAt]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("strong",{children:"Average Rating:"}),e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(s=>e.jsx(j,{className:`h-5 w-5 ${s<=N?"text-yellow-400 fill-current":"text-gray-300"}`},s))}),e.jsxs("span",{children:["(",i.reviews.length," reviews)"]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Comments:"})," ",i.comments.length]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Genres:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.genres.map(s=>e.jsx(C,{variant:"secondary",children:s.name},s.id))})]})]})})]}),e.jsxs(l,{id:"related-books",children:[e.jsx(h,{children:e.jsx(x,{children:"Related Books"})}),e.jsx(a,{children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:v.map(s=>e.jsx(R,{book:s,layout:"grid"},s.id))})})]}),e.jsx(A,{bookId:i.id,comments:i.comments})]})})]})})}export{_ as default};
